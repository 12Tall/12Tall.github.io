--- 
title: CHIP8  
sidebar: auto
tags:  
    - 虚拟机  
    - 解释器  
    - 碰撞检测
---  

# CHIP-8  
## 内存  
CHIP8 共拥有`4KB`，也就是`4096` 字节内存  

- `0x000 - 0x1FF` 前`512` 字节解释器占用，虚拟机上可以用作字库；  
- `0x200 - 0x1FF` 通用内存；  
- `0xEA0 - 0xEFF` `96` 字节用于栈，内部使用或其他变量；  
- `0xF00 - 0xFFF` 用于显示刷新。  

## 寄存器  
- `16` 个`8 位`数据寄存器，`V0 - VF`。其中`VF` 为标志寄存器；  
- `1` 个`16 位`地址寄存器，`I`  

## 栈  
CHIP8 的栈一般有16 级  

## 定时器  
- 延时计时器：处理用户事件，可读写  
- 声音计时器：当其值不为0 时，发出声音  
- 两个计时器均以`60Hz` 的频率衰减

## 输入  
CHIP8 的输入是一个16 进制键盘`0 - F`，其中  
- `8`，`4`，`6`，`2` 被用于方向输入  
- 键盘事件：  
  1. 按键被按下
  2. 按键未被按下  
  3. 等待按键，并在寄存器中存入值  

## 图像和声音  
显示器分辨率为`64x32`，单色。像素`1` 为显示。  
**某个像素点由`1` 变`0` 时会引起进位，用于碰撞检测。**  

## 操作码  
CHIP8 共有35 个操作码，每个长度均为2 字节。  
- `NNN`：地址
- `NN`： 常数  
- `N`：  常数  
- `X/Y`：寄存器编号  



## 参考  

1. [CHIP8模拟器-CHIP8简介](https://www.jianshu.com/p/d1f96523d7a0)  
2. [CHIP8模拟器-指令介绍](https://www.jianshu.com/p/76680e915559)  
3. [用 C 实现一个 CHIP-8 模拟器](https://cjting.me/2020/06/07/chip8-emulator/)